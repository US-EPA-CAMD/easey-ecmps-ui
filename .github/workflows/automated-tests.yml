name: Trigger Automated Tests on a CRON Schedule

on:
  schedule:
    # Runs "At 00:00, only on Friday and Tuesday" (see https://crontab.guru)
    - cron: '0 0 * * 5,2'
jobs:
  build:
    name: Trigger Automated Tests
    runs-on: ubuntu-latest
    steps:
      #  - name: Checkout repo
      #   uses: actions/checkout@v3
      #   with:
      #     fetch-depth: 0
      # - name: Checkout devops repo
      #   uses: actions/checkout@v3
      #   with:
      #     repository: US-EPA-CAMD/devops
      #     path: devops
      # - name: Setup & Configure Node
      #   uses: actions/setup-node@v3
      #   with:
      #     node-version: 16
      #     registry-url: https://npm.pkg.github.com/
      #     scope: '@us-epa-camd'
      # - name: Configure Env Vars
      #   run: devops/scripts/environment-variables.sh
      #   env:
      #     ENV_VAR_PREFIX: REACT_APP_EASEY
      # - name: Build
      #   run: devops/scripts/yarn/build.sh
      #   env:
      #     NODE_AUTH_TOKEN: ${{ secrets.GITHUB_TOKEN }} write here see if changes stick
      - name: Run Automated Tests
        uses: actions/checkout@v3
        with: 
          repository: US-EPA-CAMD/easey-testing
        run: mvn clean test -Dname=Test_ECMPSUI_SMK_MonPlanPage
        env:
          NODE_AUTH_TOKEN: ${{ secrets.GITHUB_TOKEN }}